# 🚨 URGENT: Leela OS Critical Issues Fix Plan

**Generated by TestSprite Testing Results - Priority Matrix**

---

## 🔥 PHASE 1: CRITICAL BLOCKERS (Fix First - Must for Beta/Self-Testing)

### 1. 🔴 **Weekly Yagna Loop Workflow** (TC004)
- **Issue**: Users stuck on Daily Sync step 1, cannot navigate to Plan stage
- **Impact**: Entire weekly planning loop broken - core personality
- **Fix Required**:
  - Debug UI state transitions in Daily Sync component
  - Check backend sync logic for completion validation
  - Ensure navigation to Plan stage works post-sync
- **Files to Check**: `src/components/DailySyncCard.tsx`, `src/app/api/couple/live-data/route.ts`
- **Estimated Time**: 2-4 hours

### 2. 🔴 **Micro-Offers Creation Interface** (TC002)
- **Issue**: Weekly Yagna Loop Plan stage and micro-offer creation completely missing
- **Impact**: Users cannot create relationship offers - healthcare feature broken
- **Fix Required**:
  - Implement micro-offer creation UI (`+` button functionality)
  - Create partner visibility logic
  - Add saves to dashboard/databases
- **Files to Check**: `src/app/(dashboard)/`, `+` button handlers
- **Estimated Time**: 4-6 hours

### 3. 🔴 **Weekend Planner Sharing** (TC006)
- **Issue**: Generated plans not shareable with partner
- **Impact**: AI features unusable in couples context
- **Fix Required**:
  - Fix plan generation to include outings/chores/rest balance
  - Implement partner sharing UI and acceptance workflow
- **Files to Check**: Weekend planner components, sharing logic
- **Estimated Time**: 3-5 hours

---

## 🔐 PHASE 2: SECURITY & PRIVACY (Must Fix Before Launch)

### 4. 🤖 **Settings Page Navigation** (TC013, TC015, TC007)
- **Issue**: Settings inaccessible from Profile page - no privacy controls
- **Impact**: GDPR compliance impossible, data export/delete broken
- **Fix Required**:
  - Fix Profile → Settings navigation button
  - Implement privacy toggles UI
  - Add data export/deletion workflows
- **Files to Check**: `src/app/(dashboard)/profile/`, Settings route
- **Estimated Time**: 3-4 hours

---

## ⚡ PHASE 3: MISSING AI FEATURES (High User Value)

### 5. 📊 **AI Load Balancer** (TC008)
- **Issue**: Feature not implemented or responding
- **Impact**: Promoted automation not working - disappoints users
- **Fix Required**:
  - Implement AI fairness algorithm
  - Create chore reassignment UI with partner consent
  - Add load balancer activation triggers
- **Estimated Time**: 6-8 hours

### 6. 💬 **Conflict Solver** (TC009)
- **Issue**: Post-conflict analysis tool missing entirely
- **Impact**: Relationship support feature not realized
- **Fix Required**:
  - Create conflict logging interface
  - Implement AI analysis engine
  - Build summary/suggestion UI
- **Estimated Time**: 8-10 hours

### 7. 💕 **Secret Couple Loop** (TC012)
- **Issue**: Private intimacy features inaccessible
- **Impact**: Promised personal relationship features missing
- **Fix Required**:
  - Build private nudges/challenges UI
  - Implement partner-only visibility
  - Add secrecy controls
- **Estimated Time**: 5-7 hours

---

## 🎮 PHASE 4: CORE EXPERIENCE ISSUES (Medium Priority)

### 8. 🎯 **Gamification System** (TC010)
- **Issue**: Task management buttons unresponsive
- **Impact**: Entire Lakshmi Coins economy broken
- **Fix Required**:
  - Fix "Start Task" button functionality
  - Implement coins credit/debit logic
  - Add leaderboard updates
- **Estimated Time**: 4-6 hours

### 9. 📸 **Memory Capture** (TC011)
- **Issue**: "Add Memory" button non-functional
- **Impact**: Memory preservation features broken
- **Fix Required**:
  - Fix memory capture popup UI
  - Implement media storage logic
  - Add AI resurfacing functionality
- **Estimated Time**: 3-4 hours

---

## 🌐 PHASE 5: INFRASTRUCTURE & TESTING

### 10. 🔄 **Real-time Communication** (TC014)
- **Issue**: Multi-client Socket.IO testing environment limitations
- **Impact**: Cannot validate real-time features in couples use
- **Fix Required**:
  - Set up proper multi-user test environment
  - Fix authentication for simultaneous logins
  - Add real-time messaging validation
- **Estimated Time**: 2-3 hours (testing environment setup)

### Current State Assessment:
- ✅ **Working Well**: Onboarding (TC001), Daily Sync (TC003), Kids Dashboard (TC005), UI Responsiveness (TC016)
- ⚠️ **Acceptable**: Memory workflow structure exists, just UI bugs
- ❌ **Blocked/Critical**: Weekly planning, privacy, AI features missing

---

## 📈 Suggested Development Priority Order:

1. **Weeks 1-2**: Fix the 3 core blockers (TC004, TC002, TC006) - MVP Readiness
2. **Weeks 3-4**: Complete security/privacy requirements (TC007, TC013, TC015)
3. **Weeks 4-6**: Implement missing AI features (TC008, TC009, TC012) - Product Differentiation
4. **Weeks 6-8**: Polish gamification and memory features (TC010, TC011)
5. **Ongoing**: Improve testing infrastructure for multi-user scenarios

This plan restores full app functionality while prioritizing issues that block core user journeys.

**Next Steps:**
- Start with TC004 (Weekly Yagna Loop navigation) - highest impact
- Open `testsprite_tests/testsprite-mcp-test-report.md` for detailed video recordings
- Each test file (TC001_Onboarding...) contains reproduction code

Would you like me to start investigating any specific issue, or help you create development tickets?
